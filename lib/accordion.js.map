{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap b6525950326e46f817fd","webpack:///./src/index.js"],"names":["ATTR_OPEN","Accordion","$toggles","$$","options","itemClass","itemToggleClass","addEventListener","_clickListener","window","_resizeListener","setTimeout","_openByStates","initialStatesOpeningDelay","$item","classList","contains","openItemClass","isItemOpen","closeItem","openItem","add","_updateContentHeight","multipleItemsOpen","_getOpenItems","forEach","$openItem","trigger","remove","$openItems","$items","_updatingContentHeights","height","$content","querySelector","itemContentClass","$inner","itemContentInnerClass","offsetHeight","style","e","base","utils","func","rAF","_updateAllOpenContentHeights","bind","target","nodeName","toLowerCase","preventDefault","toggleItem","currentTarget","closest","features","Feature","defaultOptions"],"mappings":"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","file":"accordion.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"accordion\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"accordion\"] = factory();\n\telse\n\t\troot[\"accordion\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b6525950326e46f817fd","const ATTR_OPEN = 'data-open'\n\n/**\n * Accordion feature class.\n */\nclass Accordion extends base.features.Feature {\n\n  init() {\n    var $toggles = this.$$(`.${this.options.itemClass} > .${this.options.itemToggleClass}`)\n    this.addEventListener($toggles, 'click', this._clickListener())\n    this.addEventListener(window, 'resize', this._resizeListener())\n\n    window.setTimeout(() => {\n      this._openByStates()\n    }, this.options.initialStatesOpeningDelay)\n  }\n\n  isItemOpen($item) {\n    return $item.classList.contains(this.options.openItemClass)\n  }\n\n  toggleItem($item) {\n    if (this.isItemOpen($item)) {\n      this.closeItem($item)\n    } else {\n      this.openItem($item)\n    }\n  }\n\n  openItem($item) {\n    $item.classList.add(this.options.openItemClass)\n    this._updateContentHeight($item)\n\n    if (!this.options.multipleItemsOpen) {\n      this._getOpenItems().forEach(($openItem) => {\n        if ($openItem !== $item) this.closeItem($openItem)\n      })\n    }\n\n    this.trigger('opened', $item)\n  }\n\n  closeItem($item) {\n    $item.classList.remove(this.options.openItemClass)\n    this._updateContentHeight($item)\n    this.trigger('closed', $item)\n  }\n\n  _getOpenItems() {\n    var $openItems = [...this.$$(`.${this.options.itemClass}.${this.options.openItemClass}`)]\n    return $openItems\n  }\n\n  _openByStates() {\n    var $items = [...this.$$(`.${this.options.itemClass}:not(${this.options.openItemClass})[${ATTR_OPEN}]`)]\n\n    $items.forEach(($item) => {\n      this.openItem($item)\n    })\n  }\n\n  _updateAllOpenContentHeights() {\n    this._getOpenItems().forEach(($openItem) => {\n      this._updateContentHeight($openItem)\n    })\n\n    // reset the updating property so we can\n    // capture the next resize event\n    this._updatingContentHeights = false\n  }\n\n  _updateContentHeight($item) {\n    var height = 0\n    var $content = $item.querySelector(`.${this.options.itemContentClass}`)\n    var $inner = $content.querySelector(`.${this.options.itemContentInnerClass}`)\n\n    if ($item.classList.contains(this.options.openItemClass)) {\n      height = $inner.offsetHeight\n    }\n\n    $content.style.height = height +'px'\n  }\n\n  _resizeListener() {\n    return (e) => {\n      if (!this._updatingContentHeights) {\n        this._updatingContentHeights = true\n        base.utils.func.rAF(this._updateAllOpenContentHeights.bind(this))\n      }\n    }\n  }\n\n  _clickListener() {\n    return (e) => {\n      if (e.target.nodeName.toLowerCase() !== 'a') {\n        e.preventDefault()\n        this.toggleItem(e.currentTarget.closest(`.${this.options.itemClass}`))\n      }\n    }\n  }\n\n}\n\nAccordion.defaultOptions = {\n  multipleItemsOpen: true,\n  initialStatesOpeningDelay: 150,\n  itemClass: 'item',\n  itemToggleClass: 'header',\n  itemContentClass: 'content',\n  itemContentInnerClass: 'inner',\n  openItemClass: '-open'\n}\n\nexport default Accordion\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}